!function(){function o(o,e,n){var r,t=o.getWrapperElement();return r=t.appendChild(document.createElement("div")),r.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof e?r.innerHTML=e:r.appendChild(e),r}function e(o,e){o.state.currentNotificationClose&&o.state.currentNotificationClose(),o.state.currentNotificationClose=e}CodeMirror.defineExtension("openDialog",function(n,r,t){function i(){d||(d=!0,a.parentNode.removeChild(a))}e(this,null);var u,a=o(this,n,t&&t.bottom),d=!1,c=this,l=a.getElementsByTagName("input")[0];return l?(t&&t.value&&(l.value=t.value),CodeMirror.on(l,"keydown",function(o){t&&t.onKeyDown&&t.onKeyDown(o,l.value,i)||(13==o.keyCode||27==o.keyCode)&&(CodeMirror.e_stop(o),i(),c.focus(),13==o.keyCode&&r(l.value))}),t&&t.onKeyUp&&CodeMirror.on(l,"keyup",function(o){t.onKeyUp(o,l.value,i)}),t&&t.value&&(l.value=t.value),l.focus(),CodeMirror.on(l,"blur",i)):(u=a.getElementsByTagName("button")[0])&&(CodeMirror.on(u,"click",function(){i(),c.focus()}),u.focus(),CodeMirror.on(u,"blur",i)),i}),CodeMirror.defineExtension("openConfirm",function(n,r,t){function i(){d||(d=!0,u.parentNode.removeChild(u),c.focus())}e(this,null);var u=o(this,n,t&&t.bottom),a=u.getElementsByTagName("button"),d=!1,c=this,l=1;a[0].focus();for(var f=0;f<a.length;++f){var s=a[f];!function(o){CodeMirror.on(s,"click",function(e){CodeMirror.e_preventDefault(e),i(),o&&o(c)})}(r[f]),CodeMirror.on(s,"blur",function(){--l,setTimeout(function(){0>=l&&i()},200)}),CodeMirror.on(s,"focus",function(){++l})}}),CodeMirror.defineExtension("openNotification",function(n,r){function t(){d||(d=!0,clearTimeout(i),u.parentNode.removeChild(u))}e(this,t);var i,u=o(this,n,r&&r.bottom),a=r&&(void 0===r.duration?5e3:r.duration),d=!1;CodeMirror.on(u,"click",function(o){CodeMirror.e_preventDefault(o),t()}),a&&(i=setTimeout(t,r.duration))})}();