!function(){function e(e){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var o,n=t.getSelection();if(o=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){var n=t.createRange(),i=CKEDITOR.tools.tryThese(function(){var t=o.getParent().$.cells[o.$.cellIndex+(e?-1:1)];return t.parentNode.parentNode,t},function(){var t=o.getParent(),t=t.getAscendant("table").$.rows[t.$.rowIndex+(e?-1:1)];return t.cells[e?t.cells.length-1:0]});if(i||e){if(!i)return!0;i=new CKEDITOR.dom.element(i),n.moveToElementEditStart(i),(!n.checkStartOfBlock()||!n.checkEndOfBlock())&&n.selectNodeContents(i)}else{for(var a=o.getAscendant("table").$,i=o.getParent().$.cells,a=new CKEDITOR.dom.element(a.insertRow(-1),t.document),c=0,s=i.length;s>c;c++){var r=a.append(new CKEDITOR.dom.element(i[c],t.document).clone(!1,!1));!CKEDITOR.env.ie&&r.appendBogus()}n.moveToElementEditStart(a)}return n.select(!0),!0}}return!1}}}var t={editorFocus:!1,modes:{wysiwyg:1,source:1}},o={exec:function(e){e.container.focusNext(!0,e.tabIndex)}},n={exec:function(e){e.container.focusPrevious(!0,e.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(i){for(var a=!1!==i.config.enableTabKeyTools,c=i.config.tabSpaces||0,s="";c--;)s+="Â ";s&&i.on("key",function(e){9==e.data.keyCode&&(i.insertHtml(s),e.cancel())}),a&&i.on("key",function(e){(9==e.data.keyCode&&i.execCommand("selectNextCell")||e.data.keyCode==CKEDITOR.SHIFT+9&&i.execCommand("selectPreviousCell"))&&e.cancel()}),i.addCommand("blur",CKEDITOR.tools.extend(o,t)),i.addCommand("blurBack",CKEDITOR.tools.extend(n,t)),i.addCommand("selectNextCell",e()),i.addCommand("selectPreviousCell",e(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(e,t){var o,n,i,a,c,s,r=void 0===t?this.getTabIndex():t;if(0>=r)for(c=this.getNextSourceNode(e,CKEDITOR.NODE_ELEMENT);c;){if(c.isVisible()&&0===c.getTabIndex()){i=c;break}c=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(c=this.getDocument().getBody().getFirst();c=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!o)if(!n&&c.equals(this)){if(n=!0,e){if(!(c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;o=1}}else n&&!this.contains(c)&&(o=1);if(c.isVisible()&&!(0>(s=c.getTabIndex()))){if(o&&s==r){i=c;break}s>r&&(!i||!a||a>s)?(i=c,a=s):!i&&0===s&&(i=c,a=s)}}i&&i.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(e,t){for(var o,n,i,a,c=void 0===t?this.getTabIndex():t,s=0,r=this.getDocument().getBody().getLast();r=r.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!o)if(!n&&r.equals(this)){if(n=!0,e){if(!(r=r.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;o=1}}else n&&!this.contains(r)&&(o=1);if(r.isVisible()&&!(0>(a=r.getTabIndex())))if(0>=c){if(o&&0===a){i=r;break}a>s&&(i=r,s=a)}else{if(o&&a==c){i=r;break}c>a&&(!i||a>s)&&(i=r,s=a)}}i&&i.focus()};