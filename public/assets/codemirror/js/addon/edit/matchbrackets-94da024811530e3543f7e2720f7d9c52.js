!function(){function t(t,e,n){function r(e,n,r){if(e.text){var a=m?0:e.text.length-1,h=m?e.text.length:-1;if(e.text.length>c)return null;for(null!=r&&(a=r+d);a!=h;a+=d){var l=e.text.charAt(a);if(v.test(l)&&t.getTokenTypeAt(o(n,a+1))==x){var u=i[l];if(">"==u.charAt(1)==m)p.push(l);else{if(p.pop()!=u.charAt(0))return{pos:a,match:!1};if(!p.length)return{pos:a,match:!0}}}}}}var a=t.state.matchBrackets,c=a&&a.maxScanLineLength||1e4,h=a&&a.maxScanLines||100,l=e||t.getCursor(),u=t.getLineHandle(l.line),f=l.ch-1,s=f>=0&&i[u.text.charAt(f)]||i[u.text.charAt(++f)];if(!s)return null;var m=">"==s.charAt(1),d=m?1:-1;if(n&&m!=(f==l.ch))return null;for(var g,x=t.getTokenTypeAt(o(l.line,f+1)),p=[u.text.charAt(f)],v=/[(){}[\]]/,M=l.line,k=m?Math.min(M+h,t.lineCount()):Math.max(-1,M-h);M!=k&&!(g=M==l.line?r(u,M,f):r(t.getLineHandle(M),M));M+=d);return{from:o(l.line,f),to:g&&o(M,g.pos),match:g&&g.match,forward:m}}function e(e,n){var i=e.state.matchBrackets.maxHighlightLineLength||1e3,a=t(e);if(!(!a||e.getLine(a.from.line).length>i||a.to&&e.getLine(a.to.line).length>i)){var c=a.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",h=e.markText(a.from,o(a.from.line,a.from.ch+1),{className:c}),l=a.to&&e.markText(a.to,o(a.to.line,a.to.ch+1),{className:c});r&&e.state.focused&&e.display.input.focus();var u=function(){e.operation(function(){h.clear(),l&&l.clear()})};return n?void setTimeout(u,800):u}}function n(t){t.operation(function(){a&&(a(),a=null),t.somethingSelected()||(a=e(t,!1))})}var r=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),o=CodeMirror.Pos,i={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},a=null;CodeMirror.defineOption("matchBrackets",!1,function(t,e,r){r&&r!=CodeMirror.Init&&t.off("cursorActivity",n),e&&(t.state.matchBrackets="object"==typeof e?e:{},t.on("cursorActivity",n))}),CodeMirror.defineExtension("matchBrackets",function(){e(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(e,n){return t(this,e,n)})}();