!function(){function e(e,n){function l(t){if(t=e._.elementsPath.list[t],t.equals(e.editable())){var a=e.createRange();a.selectNodeContents(t),a.select()}else e.getSelection().selectElement(t);e.focus()}function c(){o&&o.setHtml(a),delete e._.elementsPath.list}var o,i=e.ui.spaceId("path"),r="cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_";e._.elementsPath={idBase:r,filters:[]},n.html+='<span id="'+i+'_label" class="cke_voice_label">'+e.lang.elementspath.eleLabel+'</span><span id="'+i+'" class="cke_path" role="group" aria-labelledby="'+i+'_label">'+a+"</span>",e.on("uiReady",function(){var t=e.ui.space("path");t&&e.focusManager.add(t,1)});var d=CKEDITOR.tools.addFunction(l),u=CKEDITOR.tools.addFunction(function(t,a){var n,s=e._.elementsPath.idBase,a=new CKEDITOR.dom.event(a);switch(n="rtl"==e.lang.dir,a.getKeystroke()){case n?39:37:case 9:return(n=CKEDITOR.document.getById(s+(t+1)))||(n=CKEDITOR.document.getById(s+"0")),n.focus(),!1;case n?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(s+(t-1)))||(n=CKEDITOR.document.getById(s+(e._.elementsPath.list.length-1))),n.focus(),!1;case 27:return e.focus(),!1;case 13:case 32:return l(t),!1}return!0});e.on("selectionChange",function(t){for(var n=e.editable(),l=t.data.selection.getStartElement(),t=[],c=e._.elementsPath.list=[],m=e._.elementsPath.filters;l;){var p,h=0;p=l.data("cke-display-name")?l.data("cke-display-name"):l.data("cke-real-element-type")?l.data("cke-real-element-type"):l.getName();for(var f=0;f<m.length;f++){var I=m[f](l,p);if(!1===I){h=1;break}p=I||p}if(h||(h=c.push(l)-1,f=e.lang.elementspath.eleTitle.replace(/%1/,p),p=s.output({id:r+h,label:f,text:p,jsTitle:"javascript:void('"+p+"')",index:h,keyDownFn:u,clickFn:d}),t.unshift(p)),l.equals(n))break;l=l.getParent()}o||(o=CKEDITOR.document.getById(i)),n=o,n.setHtml(t.join("")+a),e.fire("elementsPathUpdate",{space:n})}),e.on("readOnly",c),e.on("contentDomUnload",c),e.addCommand("elementsPathFocus",t),e.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var t;t={editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}};var a='<span class="cke_path_empty">&nbsp;</span>',n="";(CKEDITOR.env.opera||CKEDITOR.env.gecko&&CKEDITOR.env.mac)&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var s=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+(CKEDITOR.env.gecko&&10900>CKEDITOR.env.version?' onfocus="event.preventBubble();"':"")+n+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{lang:"af,ar,bg,bn,bs,ca,cs,cy,da,de,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,ug,uk,vi,zh,zh-cn",init:function(t){t.on("uiSpace",function(a){"bottom"==a.data.space&&e(t,a.data)})}})}();